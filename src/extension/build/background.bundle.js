!function(){var e={};chrome.tabs.query({active:!0,currentWindow:!0},(function(e){console.log("backgroundjs tabs check:",e)})),chrome.runtime.onConnect.addListener((function(n){var o=function(o,t,s){if("init"==o.name)return e[o.tabId]=n,void console.log("message.tabId background.js ln 27 = ",o.tabId)};n.onMessage.addListener(o),n.onDisconnect.addListener((function(n){n.onMessage.removeListener(o);for(var t=Object.keys(e),s=0,i=t.length;s<i;s++)if(e[t[s]]==n){delete e[t[s]];break}}))})),chrome.runtime.onMessage.addListener((function(n,o,t){if(o.tab){var s=o.tab.id;if(s in e){console.log("conexios",e);let o={...n,tabId:s};console.log("msg from backgroundjs ln58:",o),e[s].postMessage(o)}else console.log("Tab not found in connection list.")}else console.log("sender.tab not defined.");return!0}))}();