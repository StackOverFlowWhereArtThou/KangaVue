!function(){var e={};chrome.runtime.onConnect.addListener((function(n){var o=function(o,s,t){if("init"==o.name)return e[o.tabId]=n,void console.log("message.tabId background.js ln 27 = ",o.tabId)};n.onMessage.addListener(o),n.onDisconnect.addListener((function(n){n.onMessage.removeListener(o);for(var s=Object.keys(e),t=0,i=s.length;t<i;t++)if(e[s[t]]==n){delete e[s[t]];break}}))})),chrome.runtime.onMessage.addListener((function(n,o,s){if(o.tab){var t=o.tab.id;if(t in e){console.log("this message is sending to:",e[t]);let o={...n,connections:e,tabId:t};console.log("msg from backgroundjs ln60:",o),e[t].postMessage(o)}else console.log("Tab not found in connection list.")}else console.log("sender.tab not defined.");return!0}))}();